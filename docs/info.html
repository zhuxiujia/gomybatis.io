<!DOCTYPE html>
<html>
<head>
  <title>GoMybatis Parallax Starter</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
  <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">
</head>
<body>
 <div id="app">
   <v-app light>
    <v-toolbar class="white">
      <v-toolbar-title v-text="title"></v-toolbar-title>
    </v-toolbar>
    <v-content>
      <section>
        <v-parallax src="assets/hero.jpg" height="600">
          <v-layout
            column
            align-center
            justify-center
            class="white--text"
          >
            <img src="assets/vuetify.png" alt="Vuetify.js" height="200">
            <h1 class="white--text mb-2 display-1 text-xs-center">GoMybatis</h1>
            <div class="subheading mb-3 text-xs-center">SQL mapper framework for Golang</div>

            <div   class="white--text"
            >
              <v-btn
                      class="blue lighten-2"
                      dark
                      large
                      href="https://zhuxiujia.github.io/gomybatis.io/#/getting-started"
              >
                Get Started
              </v-btn>
              <v-btn
                      class="blue lighten-2 "
                      dark
                      large
                      href="https://github.com/zhuxiujia/GoMybatis"
              >
                GitHub
              </v-btn>
            </div>
          </v-layout>
        </v-parallax>
      </section>

      <section>
        <v-layout
          column
          wrap
          class="my-5"
          align-center
        >
          <v-flex xs12 sm4 class="my-3">
            <div class="text-xs-center">
              <h2 class="headline">The best way to start developing</h2>
              <span class="subheading">
                相比编程式ORM框架更规范,灵活
              </span>
            </div>
          </v-flex>
          <v-flex xs12>
            <v-container grid-list-xl>
              <v-layout row wrap align-top>

                <v-flex xs12 md4>
                  <v-card class="elevation-0 transparent">
                    <v-card-text class="text-xs-center">
                      <v-icon x-large class="blue--text text--lighten-2">color_lens</v-icon>
                    </v-card-text>
                    <v-card-title primary-title class="layout justify-center">
                      <div class="headline text-xs-center">动态SQL-简单</div>
                    </v-card-title>
                    <v-card-text>
                      <p>学习成本低,一次学会可在go和java中使用,脱离代码松耦合(符合企业规范)，维护优化方便</p>
                      <p>-和ORM框架Xorm,Gorm比较，此框架有各自的查询规则学习成本高，Xorm <code>engine.Asc("id").Desc("time").Find(&orders)</code>和Gorm<code>db.First(&user).Limit(10).Find(&users).GetErrors()</code></p>
                      <p>-和ORM框架GoBatis比较，此框架使用注释(//@select *)标记xml，需要中间代码（生成***.go代码文件）执行查询操作。而GoMybatis只需xml定义Struct方法,无需中间代码</p>
                      <a href="https://zhuxiujia.github.io/gomybatis.io/#/dynamic-sql">点击了解动态SQL</a>
                    </v-card-text>
                  </v-card>
                </v-flex>
                <v-flex xs12 md4>
                  <v-card class="elevation-0 transparent">
                    <v-card-text class="text-xs-center">
                      <v-icon x-large class="blue--text text--lighten-2">flash_on</v-icon>
                    </v-card-text>
                    <v-card-title primary-title class="layout justify-center">
                      <div class="headline">快速</div>
                    </v-card-title>
                    <v-card-text>
                      <p>-GoMybatis 基于Go标准库sql驱动和govaluate表达式及反射实现,初始化时分析编译mapper xml的逻辑使用反射写入自定义struct的func里.达到内存空间换运行时间的性能优化</p>
                      <p>-得益于无锁并发,当并发协程数为1000，总请求数为10万,执行查询性能可达 总耗时0.4s,Tps = 246982/s(测试机器 Cpu 6 core,mem 16GB,256G Disk,System Windows10)(压测代码可在GitHub中查看)</p>
                      <p>-单协程编码10万次组装SQL tps = 243960/s(测试机器 Cpu 6 core,mem 16GB,256G Disk,System Windows10) 详见SqlBuilder_test.go</p>
                      <p>-单协程解码10万次mysql数据到Struct tps = 219396/s(测试机器 Cpu 6 core,mem 16GB,256G Disk,System Windows10) 详见 SqlResultDecodeUtil_test.go</p>
                    </v-card-text>
                  </v-card>
                </v-flex>
                <v-flex xs12 md4>
                  <v-card class="elevation-0 transparent">
                    <v-card-text class="text-xs-center">
                      <v-icon x-large class="blue--text text--lighten-2">build</v-icon>
                    </v-card-text>
                    <v-card-title primary-title class="layout justify-center">
                      <div class="headline text-xs-center">功能</div>
                    </v-card-title>
                    <v-card-text>
                      <p>-支持逻辑标签 resultMap,select,update,insert,delete,trim,if,set,foreach,bind </p>
                      <p>-支持事务</p>
                      <p>-支持指定sessionId的远程事务(指多个微服务连接一个单数据库或主从库),也支持分布式事务数据库(TiDB...)，让单体-分布式应用有一个平滑过渡期</p>
                    </v-card-text>
                  </v-card>
                </v-flex>
              </v-layout>
            </v-container>
          </v-flex>
        </v-layout>
      </section>

      <section>
        <v-parallax src="assets/hero.jpg" height="180">
          <v-layout column align-center justify-center>
            <div class="headline white--text mb-3 text-xs-center">事务支持</div>
            <em>既可以使用微服务连接单体/主从数据库(MySql...)，分布式数据库(TiDB...)</em>
            <!--<v-btn-->
              <!--class="blue lighten-2 mt-5"-->
              <!--dark-->
              <!--large-->
              <!--href="assets/docs/#/getting-started"-->
            <!--&gt;-->
              <!--Get Started-->
            <!--</v-btn>-->
          </v-layout>
        </v-parallax>
      </section>
      <v-layout column align-center justify-center>
        <img src="assets/tx.png">
      </v-layout>
      <v-layout column align-center justify-center>
      <code>
        //事务
        session := *GoMybatis.DefaultSessionFactory.NewSession()
        session.Begin() //开启事务
        var activityBean = Activity{
           Id:   "170",
           Name: "rs168-8",
        }
        var updateNum int64 = 0
        //session 传值则使用已经创建的session，否则新建一个session
        var e = exampleActivityMapperImpl.UpdateById(&session, activityBean, &updateNum)
        fmt.Println("updateNum=", updateNum)
        if e != nil {
           panic(e)
        }
        session.Commit() //提交事务
        session.Close()  //关闭事务
      </code>
      </v-layout>

      <section>
        <v-parallax src="assets/hero.jpg" height="180">
          <v-layout column align-center justify-center>
            <em>欢迎GitHub点赞支持我们</em>
            <v-btn
            class="blue lighten-2 mt-5"
            dark
            large
            href="https://github.com/zhuxiujia/GoMybatis"
            >
            GitHub
            </v-btn>
          </v-layout>
        </v-parallax>
      </section>
      <section>
        <v-container grid-list-xl>
          <v-layout row wrap justify-center class="my-5">
            <v-flex xs12 sm4>
              <v-card class="elevation-0 transparent">
                <v-card-title primary-title class="layout justify-center">
                  <div class="headline">各种数据库驱动支持</div>
                </v-card-title>
                <v-card-text>
                    <pre>
         Mysql: github.com/go-sql-driver/mysql
         MyMysql: github.com/ziutek/mymysql/godrv
         Postgres: github.com/lib/pq
         Tidb: github.com/pingcap/tidb
         SQLite: github.com/mattn/go-sqlite3
         MsSql: github.com/denisenkom/go-mssqldb
         MsSql: github.com/lunny/godbc
         Oracle: github.com/mattn/go-oci8
                   </pre>
                </v-card-text>
              </v-card>
            </v-flex>
            <v-flex xs12 sm4 offset-sm1>
              <v-card class="elevation-0 transparent">
                <v-card-title primary-title class="layout justify-center">
                  <div class="headline">联系我们</div>
                </v-card-title>
                <v-card-text>
                  Cras facilisis mi vitae nunc lobortis pharetra. Nulla volutpat tincidunt ornare.
                </v-card-text>
                <v-list class="transparent">
                  <v-list-tile>
                    <v-list-tile-action>
                      <v-icon class="blue--text">QQ</v-icon>
                    </v-list-tile-action>
                    <v-list-tile-content>
                      <v-list-tile-title>347284221</v-list-tile-title>
                    </v-list-tile-content>
                  </v-list-tile>
                  <v-list-tile>
                    <v-list-tile-action>
                      <v-icon class="blue--text text--lighten-2">place</v-icon>
                    </v-list-tile-action>
                    <v-list-tile-content>
                      <v-list-tile-title>杭州</v-list-tile-title>
                    </v-list-tile-content>
                  </v-list-tile>
                  <v-list-tile>
                    <v-list-tile-action>
                      <v-icon class="blue--text text--lighten-2">email</v-icon>
                    </v-list-tile-action>
                    <v-list-tile-content>
                      <v-list-tile-title>zhuxiujia@qq.com</v-list-tile-title>
                    </v-list-tile-content>
                  </v-list-tile>
                </v-list>
              </v-card>
            </v-flex>
          </v-layout>
        </v-container>
      </section>
    </v-content>
  </v-app>
 </div>
 <script src="https://unpkg.com/vue/dist/vue.js"></script>
 <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>
 <script>
   new Vue({
    el: '#app',
    data () {
      return {
        title: 'GoMybatis'
      }
    }
  })
 </script>
</body>
</html>